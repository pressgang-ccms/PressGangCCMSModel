<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd">

    <changeSet id="mysql_baseline" author="lnewson@redhat.com" dbms="mysql">
        <preConditions onFail="MARK_RAN">
            <not>
                <tableExists tableName="REVINFO"/>
            </not>
        </preConditions>
        <comment>mysql baseline schema</comment>
        <sqlFile path="db/mysql/mysql.sql" stripComments="true"/>
    </changeSet>

    <changeSet id="1" author="lnewson@redhat.com" dbms="mysql" failOnError="false" runAlways="true">
        <comment>Set session's default storage engine to INNODB (mysql ver &gt; 5.5)</comment>
        <sql>SET storage_engine=InnoDB</sql>
    </changeSet>
    <changeSet id="2" author="lnewson@redhat.com" dbms="mysql" failOnError="false" runAlways="true">
        <comment>Set session's default storage engine to INNODB (mysql ver &lt; 5.5)</comment>
        <sql>SET default_storage_engine=InnoDB</sql>
    </changeSet>
    <changeSet id="3" author="lnewson@redhat.com" dbms="mysql" failOnError="false" runAlways="true">
        <comment>Set session's default encoding and collation to utf8</comment>
        <sql>SET collation_server=utf8_unicode_ci</sql>
        <sql>SET character_set_server=utf8</sql>
    </changeSet>
</databaseChangeLog>